<!doctype html>
<html lang="ar" dir="rtl">
<head>
<meta charset="utf-8" />
<meta name="viewport" content="width=device-width, initial-scale=1" />
<title>مِهَن | الخدمات</title>

<style>
:root{
  --bg:#e0e0e0;
  --card:#fff;
  --text:#333;
  --muted:#555;
  --chip:#dddddd;
  --accent:#007BFF;       /* نفس لون زر التعديل عندك */
  --accent-hover:#005dc6;
  --danger:#dc3545;       /* نفس لون الحذف */
  --danger-hover:#b71c1c;
  --dark:#222;
  --radius:20px;
  --shadow:0 4px 12px rgba(0,0,0,.08);
  --shadow-lg:0 8px 20px rgba(0,0,0,.15);
}

*{box-sizing:border-box}
body{font-family: "Tajawal", Arial, sans-serif; background:var(--bg); margin:0; min-height:100vh; display:flex; flex-direction:column;}
header{background:#f5f5f5; padding:16px 20px; border-bottom:1px solid #e8e8e8;}
header .brand{font-weight:800; color:#444}
main{padding:24px; flex:1;}

.top-bar{display:flex; gap:12px; flex-wrap:wrap; align-items:center; margin-bottom:16px;}
.search{flex:1; min-width:240px; display:flex; gap:8px;}
.search input{
  flex:1; padding:12px 14px; border:1px solid #ccc; border-radius:12px; font-size:15px; outline:none;
}
.search button{padding:12px 16px; border:none; border-radius:12px; background:var(--accent); color:#fff; font-weight:700; cursor:pointer}
.search button:hover{background:var(--accent-hover);}

.filters{display:flex; gap:8px; flex-wrap:wrap}
.filter-chip{
  background:var(--card); border:1px solid #ddd; padding:10px 12px; border-radius:12px; cursor:pointer; font-weight:600; color:#444;
}
.filter-chip.active{background:var(--accent); color:#fff; border-color:var(--accent);}

.services-container{display:flex; flex-wrap:wrap; gap:20px; justify-content:center;}

/* زر قائمة الطلبات */
.orders-btn{
  padding: 12px 16px;
  background: var(--accent);
  color:#fff;
  border-radius:12px;
  font-weight:700;
  text-decoration:none;
  white-space:nowrap;
}
.orders-btn:hover{ background: var(--accent-hover); }

/* القوائم المنسدلة */
.filters select{
  appearance:none;
  padding:10px 12px;
  border:1px solid #ccc;
  border-radius:12px;
  background:#fff;
  min-width:150px;
  font-weight:600;
  color:#444;
}
.top-bar{ align-items:center; }
.spacer{ flex:1; } /* يدفع زر الطلبات للطرف */





/* الكارت */
.service-card{
  background:var(--card); padding:20px; border-radius:var(--radius);
  box-shadow:var(--shadow); width:290px; display:flex; flex-direction:column;
  transition:transform .25s, box-shadow .25s;
}
.service-card:hover{transform:translateY(-5px); box-shadow:var(--shadow-lg);}
.service-header{display:flex; align-items:center; gap:12px; margin-bottom:8px;}
.service-header img{width:48px; height:48px; object-fit:contain; filter:grayscale(100%); /* موحد مع الشعار الرمادي */ }
.service-card h3{margin:0; color:var(--text); font-size:1.15rem;}
.service-card p{margin:6px 0; color:var(--muted); font-size:.96rem; line-height:1.5}

.service-info{
  display:flex; justify-content:space-between; align-items:center; gap:8px;
  background:var(--chip); padding:8px 12px; border-radius:12px; margin-top:10px; color:#333; font-weight:700;
}
.service-actions{
  display:flex;
  justify-content:center;  /* الزر بالنص */
  margin-top:10px;
  gap:8px;
  flex-wrap:wrap;
}


.btn{
  padding:10px 14px; border:none; border-radius:10px; cursor:pointer; font-weight:700; text-decoration:none; display:inline-block; text-align:center;
}
.primary{background:var(--accent); color:#fff}
.primary:hover{background:var(--accent-hover)}
.edit-btn{background:var(--accent); color:#fff}
.edit-btn:hover{background:#555}
.delete-btn{background:var(--danger); color:#fff}
.delete-btn:hover{background:var(--danger-hover)}

footer{ text-align:center; padding:18px; background:var(--dark); color:#fff; font-size:.9rem }
footer a{color:#fff; text-decoration:none}
footer .separator{margin:0 8px}
</style>
</head>
<body>

<header class="site-header">
  <div class="brand">
    <a href="index.html" aria-label="الصفحة الرئيسية">
      <img src="image/logo.jpg" alt="شعار مِهَن" class="logo" style="width:100px;">
    </a>
  </div>
</header>

<main>
  <!-- شريط البحث والفلاتر -->
  <div class="top-bar">
    <div class="search">
      <input type="search" placeholder="ابحث عن خدمة (تنظيف، سباكة، صيانة أجهزة…)" aria-label="بحث">
      <button type="button">بحث</button>
    </div>

  <div class="filters" aria-label="فلاتر">
  <select id="typeFilter">
    <option value="">كل الأنواع</option>
    <!-- تُملأ تلقائيًا من البيانات -->
  </select>

  <select id="priceFilter">
    <option value="">كل الأسعار</option>
    <option value="≤100">≤ 100 ر.س</option>
    <option value="100-200">100–200 ر.س</option>
    <option value="≥200">≥ 200 ر.س</option>
  </select>

  <select id="ratingFilter">
    <option value="">كل التقييمات</option>
    <option value="3">3+ نجوم</option>
    <option value="4">4+ نجوم</option>
    <option value="4.5">4.5+ نجوم</option>
  </select>
</div>

<div class="spacer"></div>

<!-- زر قائمة الطلبات -->
<a class="orders-btn" href="orders.html">قائمة الطلبات</a>

  </div>
  
<!-- صندوق رسالة نجاح/خطأ -->
<div id="msg" class="message" style="display:none;"></div>

<!-- شريط فرعي للفلاتر الديناميكية (يظهر عند اختيار نوع فلتر) -->
<div id="subFilters" class="filters" style="margin-bottom:12px;"></div>




  <!-- قائمة الخدمات -->
<section id="servicesContainer" class="services-container">
  </section>
</main>

<footer class="site-footer" role="contentinfo" aria-label="تذييل الموقع">
    <div class="footer-inner">
      <a href="mailto:contact@mihan.sa" class="footer-email">contact@mihn.sa</a>
      <span class="separator">•</span>
      <span>© 2025 مِهَن — جميع الحقوق محفوظة</span>
    </div>
</footer>
<script>
// ===== بيانات الخدمات الستة =====
const services = [
  {id:1, title:"صيانة المنازل", category:"صيانة المنازل", description:"إصلاحات كهرباء وسباكة وتكييف بشكل عاجل.", price:120, rating:4.5, provider:"فريق الصيانة السريعة", icon:"image/maintenance-1.png"},
  {id:2, title:"التنظيف", category:"التنظيف", description:"تنظيف منازل وشقق ومكاتب باحترافية عالية.", price:90, rating:4.2, provider:"مؤسسة النظافة المثالية", icon:"image/cleaning-1.png"},
  {id:3, title:"خدمات السيارات", category:"خدمات السيارات", description:"غسيل وصيانة خفيفة في موقع العميل.", price:70, rating:4.0, provider:"CarCare Express", icon:"image/car-service-1.png"},
  {id:4, title:"صيانة الأجهزة", category:"صيانة الأجهزة", description:"إصلاح الأجهزة المنزلية والمكيفات.", price:60, rating:4.7, provider:"FixIt Tech", icon:"image/computer-support-1.png"},
  {id:5, title:"التوصيل والمشاوير", category:"التوصيل والمشاوير", description:"توصيل الطلبات والمستندات داخل المدينة.", price:25, rating:4.1, provider:"مرسال المدينة", icon:"image/delivery-1.png"},
  {id:6, title:"المناسبات والضيافة", category:"المناسبات والضيافة", description:"تزيين فعاليات ومساعدة في الضيافة.", price:150, rating:4.4, provider:"Event Touch", icon:"image/event-1.png"},
];

// حفظ للديتيلز
localStorage.setItem('services', JSON.stringify(services));

// عناصر DOM
const container   = document.getElementById('servicesContainer');
const searchInput = document.querySelector('.search input');
const typeSel     = document.getElementById('typeFilter');
const priceSel    = document.getElementById('priceFilter');
const ratingSel   = document.getElementById('ratingFilter');

// ملء قائمة الأنواع تلقائيًا
[...new Set(services.map(s=>s.category))].forEach(cat=>{
  const opt = document.createElement('option');
  opt.value = cat; opt.textContent = cat;
  typeSel.appendChild(opt);
});

// حالة الفلاتر
let state = { query:'', type:'', price:'', rating:'' };

// بناء الكروت
function displayServices(){
  container.innerHTML = '';
  const list = services.filter(s=>{
    const q = state.query.trim().toLowerCase();
    const byQuery  = !q || (s.title + ' ' + s.description).toLowerCase().includes(q);
    const byType   = !state.type || s.category === state.type;

    let byPrice = true;
    if (state.price === '≤100') byPrice = s.price <= 100;
    else if (state.price === '100-200') byPrice = s.price >= 100 && s.price <= 200;
    else if (state.price === '≥200') byPrice = s.price >= 200;

    const byRating = !state.rating || s.rating >= Number(state.rating);

    return byQuery && byType && byPrice && byRating;
  });

  if (!list.length){
    container.innerHTML = "<p style='text-align:center;font-weight:bold;'>لا توجد خدمات مطابقة.</p>";
    return;
  }

  list.forEach(s=>{
    const el = document.createElement('article');
    el.className = 'service-card';
   el.innerHTML = `
  <div class="service-header">
    <img src="${s.icon}" alt="أيقونة ${s.title}">
    <h3>${s.title}</h3>
  </div>

  <div class="service-actions">
    <a class="btn primary" href="details.html?id=${s.id}">عرض التفاصيل</a>
  </div>
`;

    container.appendChild(el);
  });
}

// أحداث البحث والفلاتر
searchInput.addEventListener('input', ()=>{ state.query = searchInput.value; displayServices(); });
typeSel.addEventListener('change',   ()=>{ state.type  = typeSel.value;     displayServices(); });
priceSel.addEventListener('change',  ()=>{ state.price = priceSel.value;    displayServices(); });
ratingSel.addEventListener('change', ()=>{ state.rating= ratingSel.value;   displayServices(); });

// أول تحميل
displayServices();
</script>

</body>
</html>
